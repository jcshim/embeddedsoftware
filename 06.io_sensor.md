### 6. **디지털 입출력 제어 및 센서 데이터 처리**

---

#### ✅ **1. 디지털 입출력 제어 (Digital I/O)**

* **입력 (Input)**:

  * 스위치, 버튼, 센서 신호 등
  * MCU가 외부 신호의 "상태"를 읽음 (`HIGH` or `LOW`)

* **출력 (Output)**:

  * LED, 릴레이, 모터 제어 등
  * MCU가 외부 장치로 신호를 보냄

* **예시 코드 (STM32 HAL 기반)**:

  ```c
  // LED 출력
  HAL_GPIO_WritePin(GPIOC, GPIO_PIN_15, GPIO_PIN_SET);   // LED ON
  HAL_GPIO_WritePin(GPIOC, GPIO_PIN_15, GPIO_PIN_RESET); // LED OFF

  // 버튼 입력
  if (HAL_GPIO_ReadPin(GPIOA, GPIO_PIN_0) == GPIO_PIN_SET) {
      // 버튼이 눌림
  }
  ```

---

#### ✅ **2. 풀업(Pull-up) / 풀다운(Pull-down) 저항**

* 버튼 입력의 안정적인 상태 판별을 위해 사용
* MCU 내부에 설정 가능 (`GPIO_PULLUP`, `GPIO_PULLDOWN`)

---

#### ✅ **3. 센서 데이터 처리**

* **디지털 센서**:

  * 온도 임계값 출력, 거리감지 (예: PIR 센서, IR 센서)
  * 단순 `HIGH/LOW` 판별로 처리 가능

* **아날로그 센서**:

  * 온도센서(NTC), 조도센서(CdS), 가변저항 등
  * ADC(Analog to Digital Converter)로 읽어야 함

---

#### ✅ **4. 아날로그-디지털 변환 (ADC)**

* **개념**: 연속적인 아날로그 값을 MCU가 이해할 수 있는 디지털 값으로 변환

* **비트 수**: 12비트 ADC의 경우 0\~4095 값 표현 가능

* **예시**: 온도 센서의 전압값(0\~3.3V)을 디지털 값으로 변환

* **STM32 HAL 예시 코드**:

  ```c
  HAL_ADC_Start(&hadc1);
  HAL_ADC_PollForConversion(&hadc1, 10);
  uint32_t adc_val = HAL_ADC_GetValue(&hadc1);
  HAL_ADC_Stop(&hadc1);
  ```

---

#### ✅ **5. 필터링 및 데이터 처리 기법**

* **평균 필터**: 잡음을 줄이기 위해 여러 번 측정 후 평균
* **이벤트 감지**: 값이 일정 임계값 넘을 때만 동작
* **센서값 → 물리량 환산**: 센서 데이터 → 온도, 거리 등으로 변환

---

#### ✅ **6. 실습 예제**

| 실습 주제           | 설명                 |
| --------------- | ------------------ |
| 버튼 누르면 LED 토글   | 디지털 입력 & 출력 제어 기본  |
| 조도센서로 LED 밝기 조절 | 아날로그 입력 & PWM 출력   |
| 온도센서 값 UART 출력  | ADC 측정 & 시리얼 통신 활용 |

---

#### ✅ **학습 포인트**

* 디지털 핀의 입출력 모드를 설정하고 제어할 수 있다
* 아날로그 센서 값을 ADC로 읽고 처리할 수 있다
* 간단한 센서 데이터를 기반으로 출력 동작을 제어할 수 있다

---

다음 주제 안내가 필요하시면 말씀해 주세요.
