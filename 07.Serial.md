### 7. **시리얼 통신 (UART, SPI, I2C)의 이해와 구현**

---

#### ✅ **1. 시리얼 통신 개요**

* **정의**: 데이터를 **한 비트씩 순차적으로** 전송하는 통신 방식
* MCU 간 또는 MCU ↔ 센서/모듈 간 데이터 전송에 사용
* **병렬 통신**에 비해 적은 핀으로 통신 가능

---

#### ✅ **2. UART (Universal Asynchronous Receiver/Transmitter)**

* **특징**:

  * 비동기 통신 (클럭 신호 없이)
  * 전송선(TX), 수신선(RX) 2개 핀 사용
  * 전송 속도: Baud rate (예: 9600, 115200 bps)

* **용도**:

  * PC ↔ MCU (USB → UART), GPS, Bluetooth 모듈 등

* **STM32 HAL 예시 코드**:

  ```c
  char msg[] = "Hello UART\n";
  HAL_UART_Transmit(&huart1, (uint8_t*)msg, strlen(msg), HAL_MAX_DELAY);
  ```

---

#### ✅ **3. SPI (Serial Peripheral Interface)**

* **특징**:

  * 동기식 통신 (공통 클럭 사용)
  * Master ↔ Slave 구조
  * 핀 구성: SCLK, MOSI, MISO, SS (총 4개)
* **장점**:

  * 빠른 전송 속도
  * 다수의 슬레이브와 통신 가능 (SS 핀 분리)
* **용도**:

  * 플래시 메모리, 디스플레이, 센서 등

---

#### ✅ **4. I2C (Inter-Integrated Circuit)**

* **특징**:

  * 동기식 통신, **2선 통신** (SCL, SDA)
  * 다중 마스터/슬레이브 지원
  * 주소 기반 통신 (7bit 또는 10bit 주소)
* **장점**:

  * 배선 간결, 여러 장치 연결 용이
* **단점**:

  * 속도는 SPI보다 느림
* **용도**:

  * 온도센서, EEPROM, RTC, OLED 등

---

#### ✅ **5. 통신 방식 비교**

| 항목     | UART | SPI     | I2C    |
| ------ | ---- | ------- | ------ |
| 통신 방식  | 비동기  | 동기      | 동기     |
| 핀 수    | 2    | 4       | 2      |
| 속도     | 중간   | 빠름      | 느림     |
| 다중 장치  | 불편   | SS 핀 필요 | 주소로 구분 |
| 사용 난이도 | 쉬움   | 중간      | 중간\~높음 |

---

#### ✅ **6. 실습 예시**

| 실습 주제             | 설명                        |
| ----------------- | ------------------------- |
| UART로 센서 값 출력     | UART 송신 실습, TeraTerm으로 확인 |
| SPI 플래시 메모리 쓰기/읽기 | SPI 동작 확인 및 데이터 로깅        |
| I2C 온도센서 값 읽기     | I2C 프로토콜로 센서 제어 및 값 표시    |

---

#### ✅ **학습 포인트**

* UART, SPI, I2C의 구조 및 차이를 이해할 수 있다
* 각 통신 방식에 맞는 핀 구성과 초기화를 수행할 수 있다
* 외부 장치와의 시리얼 통신을 위한 기본 코드 구현이 가능하다

---

다음 주제 이어드릴까요?
