### 9. **저전력 설계 및 전력 관리 기법**

---

#### ✅ 1. **저전력 설계란?**

* **MCU 및 시스템의 전력 소모를 최소화**하여 배터리 수명 연장, 발열 감소, 에너지 효율을 높이기 위한 설계 방식
* 특히 **웨어러블**, **IoT 센서**, **모바일 디바이스** 등에서 필수적인 기술

---

#### ✅ 2. **MCU의 전력 소모 요인**

| 요인      | 설명                              |
| ------- | ------------------------------- |
| 클럭 속도   | 클럭이 빠를수록 소비 전력 증가               |
| 동작 전압   | 전압이 높을수록 전력 소모 큼 (`P = V² × f`) |
| 주변장치 사용 | 타이머, ADC, 통신 등 사용 시 전력 증가       |
| 불필요한 연산 | 지속적인 polling, 반복 연산 등           |

---

#### ✅ 3. **MCU 저전력 동작 모드 (STM32 기준)**

| 모드                | 설명                           |
| ----------------- | ---------------------------- |
| **Run Mode**      | 일반 동작 상태 (전력 소비 가장 큼)        |
| **Sleep Mode**    | CPU 정지, 주변장치 동작 가능 (인터럽트 대기) |
| **Stop Mode**     | 대부분의 클럭 차단, 빠른 복귀 가능         |
| **Standby Mode**  | 거의 모든 회로 정지, 재시작은 리셋 수준      |
| **Shutdown Mode** | 초저전력, 복귀 시 완전 부팅 필요          |

---

#### ✅ 4. **전력 관리 기법**

* **클럭 조절**: 필요 시에만 고속 클럭 사용, 불필요할 땐 낮춤

  ```c
  HAL_RCC_DeInit();  // 클럭 초기화
  HAL_SuspendTick(); // SysTick 중단
  ```

* **Sleep 모드 진입**:

  ```c
  HAL_PWR_EnterSLEEPMode(PWR_MAINREGULATOR_ON, PWR_SLEEPENTRY_WFI);
  ```

* **주변장치 절전**: 사용하지 않는 GPIO, ADC, UART 등을 Off

  ```c
  __HAL_RCC_GPIOA_CLK_DISABLE();
  ```

* **인터럽트 기반 처리**: polling 대신 이벤트가 있을 때만 CPU 깨움

* **DMA 활용**: CPU를 사용하지 않고 주변장치 간 데이터 전송

* **센서 전원 제어**: GPIO로 센서 전원 On/Off

---

#### ✅ 5. **하드웨어적 설계 요소**

* 저전력 부품 사용 (Low-power MCU, 센서 등)
* 전압 조절기 효율 최적화 (LDO 대신 DCDC 컨버터)
* 부품 간 통신 프로토콜 선택 (I2C < SPI < UART 등)

---

#### ✅ 6. **저전력 실습 예제**

| 주제                | 설명                          |
| ----------------- | --------------------------- |
| 버튼 누를 때만 LED 켜기   | Sleep → EXTI 인터럽트 → Wake-up |
| 센서 데이터 주기 수집      | 타이머 + DMA → Sleep 대기        |
| 시스템 유휴 시 자동 Sleep | 일정 시간 입력 없으면 Sleep 진입       |

---

#### ✅ 학습 포인트

* MCU의 전력 소비 특성과 절전 모드를 이해할 수 있다
* 상황에 맞는 전력 관리 전략을 설계할 수 있다
* Sleep/Stop/Standby 모드의 차이와 사용법을 익힐 수 있다

---
