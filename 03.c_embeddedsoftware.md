### 3. **C 언어 기반의 임베디드 프로그래밍 기초**

---

#### ✅ 1. **임베디드 C의 특징**

* 일반 C 언어와 동일하지만, **하드웨어 제어 중심**
* 직접 **레지스터 접근**, **비트 연산**, **메모리 제어**를 자주 사용
* **표준 라이브러리보다** 하드웨어 관련 API가 더 중요 (ex. HAL, CMSIS)

---

#### ✅ 2. **기본 문법 복습**

* **자료형**: `uint8_t`, `int16_t`, `float`, `char` 등 (정확한 크기 필요)
* **조건문/반복문**: `if`, `while`, `for`, `switch`
* **함수 사용법**: `void delay_ms(int ms);`

---

#### ✅ 3. **비트 연산자 활용**

| 연산자  | 설명      | 예시                     |         |                   |
| ---- | ------- | ---------------------- | ------- | ----------------- |
| `&`  | AND     | `PORTA & 0x01` → 비트 확인 |         |                   |
| \`   | \`      | OR                     | \`PORTA | 0x10\` → 특정 비트 켜기 |
| `^`  | XOR     | `PORTA ^ 0xFF` → 반전    |         |                   |
| `~`  | NOT     | `~PORTA` → 전체 반전       |         |                   |
| `<<` | 왼쪽 시프트  | `1 << 3` → 0x08        |         |                   |
| `>>` | 오른쪽 시프트 | `0x10 >> 1` → 0x08     |         |                   |

---

#### ✅ 4. **포인터와 메모리 접근**

* 하드웨어 제어에서 `포인터`는 필수

  ```c
  #define LED_ADDR 0x48000814
  *(volatile uint32_t*)LED_ADDR |= (1 << 15);  // PC15 출력 ON
  ```

* `volatile` 키워드:

  * 하드웨어 레지스터와 통신할 때 사용
  * 최적화 방지 → 실시간으로 값 읽기

---

#### ✅ 5. **MCU 전용 API 사용 예 (STM32 HAL)**

* GPIO 제어

  ```c
  HAL_GPIO_WritePin(GPIOC, GPIO_PIN_15, GPIO_PIN_SET); // LED ON
  ```

* 딜레이

  ```c
  HAL_Delay(500);  // 500ms 지연
  ```

---

#### ✅ 6. **main 함수 구조 이해**

```c
int main(void)
{
  HAL_Init();              // HAL 라이브러리 초기화
  SystemClock_Config();    // 클럭 설정
  MX_GPIO_Init();          // GPIO 설정
  MX_USART2_UART_Init();   // UART 설정

  while (1)
  {
    HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_15); // LED 토글
    HAL_Delay(1000);                        // 1초 대기
  }
}
```

---

#### ✅ 7. **개발 환경과 컴파일 과정 이해**

* 코드 작성 → 컴파일 → 링킹 → `.bin` or `.hex` 생성 → 업로드 → 실행
* STM32CubeIDE, Keil, Arduino IDE 등에서 자동 처리

---

#### ✅ 8. **실습 아이디어**

| 주제          | 내용             |
| ----------- | -------------- |
| LED 깜빡이     | C 문법 + GPIO 제어 |
| 버튼 입력 확인    | 조건문 + 입력 처리    |
| UART 문자 송수신 | 함수 작성 + 통신     |

---

#### ✅ 학습 포인트

* C 언어 문법을 임베디드 환경에 맞게 적용할 수 있다
* 포인터와 비트 연산을 활용하여 하드웨어 제어가 가능하다
* MCU API를 사용하여 간단한 제어 프로그램을 구현할 수 있다

---

다음 주제를 원하시면 알려주세요.
